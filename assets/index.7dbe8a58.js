import{l as lodash_debounce,t as trimPlugin,s as scopedPlugin,p as postcss_1,a as addStylesToShadowDOM,b as addStylesClient,c as browser,h as hashSum,v as vueTemplateEs2015Compiler,n as normalizeComponent$1,V as Vue,d as VueCodemirror}from"./vendor.0be8c35b.js";const p=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}};p();var render$2=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",{staticClass:"main"},[o("header",{staticClass:"fixed top-0 left-0 w-full  h-[48px] border-b-2 border-bd-color bg-bg-color z-50"},[e._v("\u5934\u90E8")]),o("main",{staticClass:"flex pt-[48px] min-h-screen"},[o("section",{staticClass:"flex-1"},[o("keep-alive",[e._t("default")],2)],1),o("div",{staticClass:"side-menu w-[56px] bg-side-color"})])])},staticRenderFns$2=[],pageLayout_vue_vue_type_style_index_0_lang="";function normalizeComponent(e,t,o,s,n,i,u,h){var a=typeof e=="function"?e.options:e;t&&(a.render=t,a.staticRenderFns=o,a._compiled=!0),s&&(a.functional=!0),i&&(a._scopeId="data-v-"+i);var _;if(u?(_=function(c){c=c||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!c&&typeof __VUE_SSR_CONTEXT__!="undefined"&&(c=__VUE_SSR_CONTEXT__),n&&n.call(this,c),c&&c._registeredComponents&&c._registeredComponents.add(u)},a._ssrRegister=_):n&&(_=h?function(){n.call(this,(a.functional?this.parent:this).$root.$options.shadowRoot)}:n),_)if(a.functional){a._injectStyles=_;var m=a.render;a.render=function(d,l){return _.call(l),m(d,l)}}else{var r=a.beforeCreate;a.beforeCreate=r?[].concat(r,_):[_]}return{exports:e,options:a}}const __vue2_script$2={},__cssModules$2={};var __component__$2=normalizeComponent(__vue2_script$2,render$2,staticRenderFns$2,!1,__vue2_injectStyles$2,null,null,null);function __vue2_injectStyles$2(e){for(let t in __cssModules$2)this[t]=__cssModules$2[t]}var PageLayout=function(){return __component__$2.exports}(),codemirror="",base16Dark="";const templateDemo=`<template>
  <div class="red">{{ msg }}</div>
</template>

<script>
  export default {
      data () {
        return {
          msg: '\u6211\u662F\u6D88\u606F'
        }
      }
  }
<\/script>

<style scoped>
.red {
  color: red;
}
</style>
`;var render$1=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",{staticClass:"code-manage"},[o("codemirror",{staticStyle:{height:"100%"},attrs:{value:e.codeStr,options:e.cmOptions},on:{input:e.onInput}})],1)},staticRenderFns$1=[],codeManage_vue_vue_type_style_index_0_lang="";let uid=0;const __vue2_script$1={data(){return{codeStr:templateDemo,cmOptions:{tabSize:2,mode:"text/x-vue",theme:"base16-dark",lineNumbers:!0,line:!0}}},mounted(){this.freshCode()},methods:{freshCode(e){this.$emit("freshCode",{code:e||this.codeStr,uid:++uid})},onInput:lodash_debounce(function(e){this.freshCode(e)},500)}},__cssModules$1={};var __component__$1=normalizeComponent(__vue2_script$1,render$1,staticRenderFns$1,!1,__vue2_injectStyles$1,null,null,null);function __vue2_injectStyles$1(e){for(let t in __cssModules$1)this[t]=__cssModules$1[t]}var CodeManage=function(){return __component__$1.exports}();const nonWhitespaceRE=/\S+/,isNotEmptyStyle=e=>e.src||nonWhitespaceRE.test(e.content);function processStyle(e,t,o,s){const n=[],i=!!o;n.push(trimPlugin()),i&&n.push(scopedPlugin(`data-v-${o}`));const u=postcss_1(n).process(t),h={rawResult:u,code:u.css||""},a=[[e,h.code,""]];if(s)return function(_){addStylesToShadowDOM(o,a,_)};addStylesClient(o,a,!0)}function genStyleInjectionCode(e,t,o,s){if(!s)t.forEach(n=>{isNotEmptyStyle(n)&&processStyle(e,n.content,n.scoped?o:"",s)});else{const n=[];return t.forEach(i=>{isNotEmptyStyle(i)&&n.push(processStyle(e,i.content,i.scoped?o:"",s))}),function(u){n.forEach(h=>h(u))}}}function compileComponent(filePath,templateStr,isComplieWebComponent){const descriptor=browser.exports.parseComponent(templateStr,{pad:"line"}),shortFilePath=filePath,id=hashSum(shortFilePath),hasScoped=descriptor.styles.some(e=>e.scoped),hasFunctional=descriptor.template&&descriptor.template.attrs.functional;let render=function(){},staticRenderFns=[];if(descriptor.template){const content=descriptor.template.content,complieOptions={outputSourceRange:!0,scopeId:hasScoped?`data-v-${id}`:null,comments:void 0},_complierResult=browser.exports.compile(content,complieOptions),toFunction=e=>`function (${hasFunctional?"_h,_vm":""}) {${e}}`;let _code=vueTemplateEs2015Compiler(`var __render__ = ${toFunction(_complierResult.render)}
var __staticRenderFns__ = [${_complierResult.staticRenderFns.map(toFunction)}]`,{stripWithFunctional:hasFunctional});_code=_code.replace(/var\s__(render|staticRenderFns)__\s/g," $1 "),eval(_code)}let _scriptExportExtract={};if(descriptor.script){const _script=descriptor.script.content,_scriptExport=_script.match(/export default\s(\{(?:\n|.)*\})\n*$/);_scriptExport&&_scriptExport[1]&&eval(`_scriptExportExtract=${_scriptExport[1]}`)}let complierStyles=function(){};return descriptor.styles&&(complierStyles=genStyleInjectionCode(shortFilePath,descriptor.styles,hasScoped?id:"",isComplieWebComponent)),normalizeComponent$1(_scriptExportExtract,render,staticRenderFns,!!hasFunctional,isComplieWebComponent?complierStyles:"",hasScoped?id:"",!1,isComplieWebComponent)}const camelizeRE=/-(\w)/g,camelize=e=>e.replace(camelizeRE,(t,o)=>o?o.toUpperCase():""),hyphenateRE=/\B([A-Z])/g,hyphenate=e=>e.replace(hyphenateRE,"-$1").toLowerCase();function getInitialProps(e){const t={};return e.forEach(o=>{t[o]=void 0}),t}function injectHook(e,t,o){e[t]=[].concat(e[t]||[]),e[t].unshift(o)}function callHooks(e,t){e&&(e.$options[t]||[]).forEach(s=>{s.call(e)})}function createCustomEvent(e,t){return new CustomEvent(e,{bubbles:!1,cancelable:!1,detail:t})}const isBoolean=e=>/function Boolean/.test(String(e)),isNumber=e=>/function Number/.test(String(e));function convertAttributeValue(e,t,{type:o}={}){if(isBoolean(o))return e==="true"||e==="false"?e==="true":e===""||e===t||e!=null?!0:e;if(isNumber(o)){const s=parseFloat(e,10);return isNaN(s)?e:s}else return e}function toVNodes(e,t){const o=[];for(let s=0,n=t.length;s<n;s++)o.push(toVNode(e,t[s]));return o}function toVNode(e,t){if(t.nodeType===3)return t.data.trim()?t.data:null;if(t.nodeType===1){const o={attrs:getAttributes(t),domProps:{innerHTML:t.innerHTML}};return o.attrs.slot&&(o.slot=o.attrs.slot,delete o.attrs.slot),e(t.tagName,o)}else return null}function getAttributes(e){const t={};for(let o=0,s=e.attributes.length;o<s;o++){const n=e.attributes[o];t[n.nodeName]=n.nodeValue}return t}function wrap(e,t){const o=typeof t=="function"&&!t.cid;let s=!1,n,i,u;function h(m){if(s)return;const r=typeof m=="function"?m.options:m,c=Array.isArray(r.props)?r.props:Object.keys(r.props||{});n=c.map(hyphenate),i=c.map(camelize);const d=Array.isArray(r.props)?{}:r.props||{};u=i.reduce((l,f,C)=>(l[f]=d[c[C]],l),{}),injectHook(r,"beforeCreate",function(){const l=this.$emit;this.$emit=(f,...C)=>(this.$root.$options.customElement.dispatchEvent(createCustomEvent(f,C)),l.call(this,f,...C))}),injectHook(r,"created",function(){i.forEach(l=>{this.$root.props[l]=this[l]})}),i.forEach(l=>{Object.defineProperty(_.prototype,l,{get(){return this._wrapper.props[l]},set(f){this._wrapper.props[l]=f},enumerable:!1,configurable:!0})}),s=!0}function a(m,r){const c=camelize(r),d=m.hasAttribute(r)?m.getAttribute(r):void 0;m._wrapper.props[c]=convertAttributeValue(d,r,u[c])}class _ extends HTMLElement{constructor(){const r=super();r.attachShadow({mode:"open"});const c=r._wrapper=new e({name:"shadow-root",customElement:r,shadowRoot:r.shadowRoot,data(){return{props:{},slotChildren:[]}},render(l){return l(t,{ref:"inner",props:this.props},this.slotChildren)}});new MutationObserver(l=>{let f=!1;for(let C=0;C<l.length;C++){const v=l[C];s&&v.type==="attributes"&&v.target===r?a(r,v.attributeName):f=!0}f&&(c.slotChildren=Object.freeze(toVNodes(c.$createElement,r.childNodes)))}).observe(r,{childList:!0,subtree:!0,characterData:!0,attributes:!0})}get vueComponent(){return this._wrapper.$refs.inner}connectedCallback(){const r=this._wrapper;if(r._isMounted)callHooks(this.vueComponent,"activated");else{const c=()=>{r.props=getInitialProps(i),n.forEach(d=>{a(this,d)})};s?c():t().then(d=>{(d.__esModule||d[Symbol.toStringTag]==="Module")&&(d=d.default),h(d),c()}),r.slotChildren=Object.freeze(toVNodes(r.$createElement,this.childNodes)),r.$mount(),this.shadowRoot.appendChild(r.$el)}}disconnectedCallback(){callHooks(this.vueComponent,"deactivated")}}return o||h(t),_}var render=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("page-layout",[o("section",{staticClass:"container flex min-h-full"},[o("section",{staticClass:"flex-1 border-r-2 border-bd-color"},[o("code-manage",{ref:"codeManage",on:{freshCode:e.onCodeFresh}})],1),o("section",{staticClass:"flex-1",attrs:{id:"showArea"}}),o("div",{staticClass:"fixed flex bottom-0 left-0 h-[30px] w-full bg-[#53a0cf] z-50 justify-end pr-5"},[o("span",{staticClass:"text-white text-sm leading-[30px] cursor-pointer",on:{click:e.onChangeMode}},[e._v("\u7F16\u8BD1\u6A21\u5F0F\uFF1A"+e._s(e.isComplieWebComponent?"web-component":"vue-component"))])])])])},staticRenderFns=[],App_vue_vue_type_style_index_0_lang="";const __vue2_script={components:{CodeManage,PageLayout},data(){return{isComplieWebComponent:!0}},methods:{onCodeFresh({code:e,uid:t}){const o=compileComponent("src/App.vue",e,this.isComplieWebComponent),s=Vue.extend(o.exports);this.isComplieWebComponent?this.mountWebComponent(t,o.exports):this.mountComponent(new s)},mountWebComponent(e,t){const o=`p-${e}`;window.customElements.define(o,wrap(Vue,t));const s=document.getElementById("showArea");for(;s.firstChild;)s.removeChild(s.firstChild);s.innerHTML=`<${o}/>`},mountComponent(e){const t=document.getElementById("showArea");for(;t.firstChild;)t.removeChild(t.firstChild);const o=document.createElement("div");t.appendChild(o),this.$nextTick(()=>{e.$mount(o)})},onChangeMode(){this.isComplieWebComponent=!this.isComplieWebComponent,this.$refs.codeManage.freshCode()}}},__cssModules={};var __component__=normalizeComponent(__vue2_script,render,staticRenderFns,!1,__vue2_injectStyles,null,null,null);function __vue2_injectStyles(e){for(let t in __cssModules)this[t]=__cssModules[t]}var App=function(){return __component__.exports}(),index="";Vue.use(VueCodemirror);new Vue({el:"#app",render(e){return e(App)}});
